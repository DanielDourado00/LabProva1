<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Restaurantes</title>
</head>
<body>
<!-- Reprodução de áudio oculta -->
<!-- <audio id="audio" autoplay style="display:none;">
    <source src="/CafeMania.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
</audio>

<script>
    // Verifica se o áudio estava reproduzindo antes da atualização da página
    window.onload = function () {
        var audio = document.getElementById("audio");
        var isPlaying = localStorage.getItem("audioPlaying");
        if (isPlaying === "true") {
            audio.play();
        }
    }

    // Armazena o estado de reprodução do áudio
    window.onbeforeunload = function () {
        var audio = document.getElementById("audio");
        localStorage.setItem("audioPlaying", audio.paused ? "false" : "true");
    }
</script> -->

<div th:switch="${restaurantes}">               <!-- Verifica se há restaurantes cadastrados -->
    <h2 th:case="null">Ainda não há restaurantes!</h2>
    <div th:case="*">
        <h2>Restaurantes</h2>   <!-- Título da página -->
        <table>
            <thead>
            <tr>            <!-- Cabeçalho da tabela -->
                <th>Nome</th>
                <th>Alterar</th>
                <th>Excluir</th>
                <th>Cardapio</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="restaurante : ${restaurantes}">
                <td th:text="${restaurante.nome}"></td>
                <td><a th:href="@{'/atualizar-restaurante/' + ${restaurante.id}}">Alterar</a></td> <!-- Link para a página de atualização de um restaurante -->
                <td><a th:href="@{'/excluir-restaurante/' + ${restaurante.id}}">Excluir</a></td> <!-- Link para a página de exclusão de um restaurante -->
                <td><a th:href="@{/cardapio/{id}(id=${restaurante.id})}">Cardapio</a></td> <!-- Link para a página de listagem de cardápios de um restaurante -->
            </tr>
            </tbody>
        </table>
    </div>
<p><a href="/novo-restaurante" class="round-btn">+</a> Adicionar um novo restaurante</p> <!-- Link para a página de cadastro de um novo restaurante -->
</div>
</body>
</html>